<section class="dashboard">

  <!-- ===== Header ===== -->
  <header class="dash-header">
    <div class="dash-header__loading">
      Loading dashboard data…
    </div>

    <div class="dash-header__title">
      <!-- original: "## Dashboard" -->
      Dashboard
    </div>

    <div class="dash-header__subtitle">
      Welcome back! Here's what's happening with your business.
    </div>

    <div class="dash-header__date">
      {{ today | date:'EEEE, MMMM d, y' }}
    </div>
  </header>

  <!-- ===== Row 1: KPI Tiles (Flexbox) ===== -->
  <section class="kpi-row">

    <article class="kpi kpi--customers">
      <div class="kpi__title">
        <span class="kpi__icon" aria-hidden="true"></span>
        Total Customers
      </div>
      <div class="kpi__value">
        {{ stats.customers | number }}
      </div>
      <div class="kpi__trend kpi__trend--positive">
        12% increase
      </div>
    </article>

    <article class="kpi kpi--workers">
      <div class="kpi__title">
        <span class="kpi__icon" aria-hidden="true"></span>
        Active Workers
      </div>
      <div class="kpi__value">
        {{ stats.workers | number }}
      </div>
      <div class="kpi__trend kpi__trend--positive">
        2 new this week
      </div>
    </article>

    <article class="kpi kpi--jobs">
      <div class="kpi__title">
        <span class="kpi__icon" aria-hidden="true"></span>
        Today's Jobs
      </div>
      <div class="kpi__value">
        {{ stats.todayAppointments | number }}
      </div>
      <!-- no trend text in your source; leaving empty on purpose -->
    </article>

    <article class="kpi kpi--revenue">
      <div class="kpi__title">
        <span class="kpi__icon" aria-hidden="true"></span>
        Monthly Revenue
      </div>
      <div class="kpi__value">
        {{ stats.monthlyRevenue | currency:'USD' }}
      </div>
      <div class="kpi__trend kpi__trend--positive">
        8% vs last month
      </div>
    </article>

  </section>

  <!-- ===== Row 2: Panels ===== -->
  <section class="panel-row">

    <!-- Recent Appointments -->
    <article class="panel panel--appointments">
      <div class="panel__title">
        <span class="panel__icon" aria-hidden="true"></span>
        Recent Appointments
      </div>

      <!-- Example item wrappers; keep your bindings exactly -->
      <div class="list">
        <!--
          If you already have *ngFor, keep it:
          -->
        <div class="list__item" *ngFor="let a of recentAppointments">
        
          <div class="list__item">
            <div class="list__line">
              <span class="list__date">{{ a?.scheduled_date | date:'MMM d, y' }}</span>
              <span class="list__time">• {{ a?.scheduled_time }}</span>
            </div>
            <div class="list__sub">
              {{ a?.service_type }}
            </div>
            <div class="list__status">
              <span class="chip" [ngClass]="(a?.status || '').toLowerCase()">{{ a?.status }}</span>
            </div>
          </div>
        </div>

        <!-- Empty state (keep as-is) -->
        <div class="list__empty">
          No appointments scheduled
        </div>
      </div>
    </article>

    <!-- Recent Customers -->
    <article class="panel panel--customers">
      <div class="panel__title">
        <span class="panel__icon" aria-hidden="true"></span>
        Recent Customers
      </div>

      <div class="list">
       <div class="list__item" *ngFor="let c of recentCustomers"> 
        <div class="list__item">
          <div class="list__line">
            <strong>{{ c?.first_name }}</strong> {{ c?.last_name }}
          </div>
          <div class="list__sub">
            {{ c?.city }}, {{ c?.state }}
          </div>
          <div class="list__status">
            <span class="chip" [ngClass]="(c?.status || '').toLowerCase()">{{ c?.status }}</span>
          </div>
          </div>
        </div>

        <div class="list__empty">
          No customers yet
        </div>
      </div>
    </article>

  </section>

  <!-- ===== Row 3: Bottom Tiles ===== -->
  <section class="bottom-row">

    <article class="tile tile--completed">
      <div class="tile__title">
        <span class="tile__icon" aria-hidden="true"></span>
        Completed Jobs
      </div>
      <div class="tile__value">{{ stats.completedJobs | number }}</div>
      <div class="tile__sub">Total jobs completed</div>
    </article>

    <article class="tile tile--pending">
      <div class="tile__title">
        <span class="tile__icon" aria-hidden="true"></span>
        Pending Invoices
      </div>
      <div class="tile__value">{{ stats.pendingInvoices | number }}</div>
      <div class="tile__sub">Awaiting payment</div>
    </article>

    <article class="tile tile--growth">
      <div class="tile__title">
        <span class="tile__icon" aria-hidden="true"></span>
        Business Growth
      </div>
      <div class="tile__value">+23%</div>
      <div class="tile__sub">Growth this quarter</div>
    </article>

  </section>

</section>